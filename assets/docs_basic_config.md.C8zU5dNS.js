import{_ as a,c as i,o as e,ag as t}from"./chunks/framework.CQgmSBDp.js";const c=JSON.parse('{"title":"配置项","description":"","frontmatter":{"page":true,"title":"配置项"},"headers":[],"relativePath":"docs/basic/config.md","filePath":"docs/basic/config.md"}'),n={name:"docs/basic/config.md"};function p(l,s,h,r,k,o){return e(),i("div",null,s[0]||(s[0]=[t(`<h1 id="elysiaoption配置项" tabindex="-1">ElysiaOption配置项 <a class="header-anchor" href="#elysiaoption配置项" aria-label="Permalink to &quot;ElysiaOption配置项&quot;">​</a></h1><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Mango继承于Elysia，对应的配置项与Elysia一致</p><p>具体详见<a href="https://elysiajs.com/patterns/configuration.html" target="_blank" rel="noreferrer">文档</a></p></div><h2 id="最大请求体大小" tabindex="-1">最大请求体大小 <a class="header-anchor" href="#最大请求体大小" aria-label="Permalink to &quot;最大请求体大小&quot;">​</a></h2><p>我们可以通过在 <code>serve</code> 配置中设置 <a href="#maxRequestBodySize"><code>serve.maxRequestBodySize</code></a> 来设置最大请求体大小。</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Elysia } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;elysia&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Elysia</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  serve: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    maxRequestBodySize: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1024</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 256</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 256MB</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>默认情况下，最大请求体大小为 128MB（1024 * 1024 * 128）。</p><h2 id="tls" tabindex="-1">TLS <a class="header-anchor" href="#tls" aria-label="Permalink to &quot;TLS&quot;">​</a></h2><p>我们可以通过传递密钥和证书的值来启用 TLS（SSL 的后继者）；两者都是启用 TLS 所必需的。</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Elysia, file } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;elysia&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Elysia</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  serve: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    tls: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      cert: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">file</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;cert.pem&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      key: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">file</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;key.pem&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>Elysia 扩展了 Bun 配置，支持开箱即用的 TLS，基于 BoringSSL。</p><p>请参阅 <a href="#TSL-Options">TLS 选项</a> 以获取可用配置。</p><h2 id="配置" tabindex="-1">配置 <a class="header-anchor" href="#配置" aria-label="Permalink to &quot;配置&quot;">​</a></h2><p>以下是 Elysia 接受的配置：</p><h2 id="prefix" tabindex="-1">prefix <a class="header-anchor" href="#prefix" aria-label="Permalink to &quot;prefix&quot;">​</a></h2><p>@default <code>&quot;&quot;</code></p><p>实例的路径前缀</p><h2 id="name" tabindex="-1">name <a class="header-anchor" href="#name" aria-label="Permalink to &quot;name&quot;">​</a></h2><p>实例的名称，用于调试和插件去重目的</p><h2 id="seed" tabindex="-1">seed <a class="header-anchor" href="#seed" aria-label="Permalink to &quot;seed&quot;">​</a></h2><p>用于生成校验和的种子，用于 <a href="https://elysiajs.com/essential/plugin#plugin-deduplication" target="_blank" rel="noreferrer">插件去重</a></p><h2 id="detail" tabindex="-1">detail <a class="header-anchor" href="#detail" aria-label="Permalink to &quot;detail&quot;">​</a></h2><p>用于文档生成的 OpenAPI 文档</p><p>此配置扩展了 <a href="https://swagger.io/specification" target="_blank" rel="noreferrer">Swagger 规范</a>。</p><p>@see <a href="https://swagger.io/specification" target="_blank" rel="noreferrer">Swagger 规范</a></p><h2 id="tags" tabindex="-1">tags <a class="header-anchor" href="#tags" aria-label="Permalink to &quot;tags&quot;">​</a></h2><p>用于文档生成的 OpenAPI 标签</p><p>为所有实例路由装饰标签</p><p>此配置扩展了 <a href="https://swagger.io/specification/#tag-object" target="_blank" rel="noreferrer">标签对象</a></p><p>@see <a href="https://swagger.io/specification/#tag-object" target="_blank" rel="noreferrer">标签对象</a></p><h2 id="precompile" tabindex="-1">precompile <a class="header-anchor" href="#precompile" aria-label="Permalink to &quot;precompile&quot;">​</a></h2><p>@default <code>false</code></p><p>在启动服务器之前预热 Elysia</p><p>这将执行提前编译并生成路由处理程序的代码</p><p>如果设置为 false，Elysia 将执行即时编译</p><p>仅对根实例（使用 listen 的实例）有效</p><h2 id="aot" tabindex="-1">aot <a class="header-anchor" href="#aot" aria-label="Permalink to &quot;aot&quot;">​</a></h2><p>@default <code>false</code></p><p>提前编译</p><p>性能降低，但启动时间更快</p><h2 id="strictpath" tabindex="-1">strictPath <a class="header-anchor" href="#strictpath" aria-label="Permalink to &quot;strictPath&quot;">​</a></h2><p>@default <code>false</code></p><p>Elysia 是否应该容忍后缀 <code>/</code> 或反之</p><h3 id="示例" tabindex="-1">示例 <a class="header-anchor" href="#示例" aria-label="Permalink to &quot;示例&quot;">​</a></h3><p>如果 <code>strictPath</code> 设置为 <code>true</code>，Elysia 将匹配 <code>/id</code> 而不是 <code>/id/</code></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Elysia } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;elysia&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Elysia</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  strictPath: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/id&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;work&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>通常情况下，<code>/id</code> 和 <code>/id/</code> 都将匹配路由处理程序（默认值为 <code>false</code>）。</p><h2 id="cookie" tabindex="-1">cookie <a class="header-anchor" href="#cookie" aria-label="Permalink to &quot;cookie&quot;">​</a></h2><p>设置默认的 cookie 选项</p><h2 id="normalize" tabindex="-1">normalize <a class="header-anchor" href="#normalize" aria-label="Permalink to &quot;normalize&quot;">​</a></h2><p>@default <code>true</code></p><p>如果启用，处理程序将在传入和传出请求体上运行 <a href="https://github.com/sinclairzx81/typebox?tab=readme-ov-file#clean" target="_blank" rel="noreferrer">clean</a>，而不是直接失败。</p><p>这允许在请求体中发送未知或不允许的属性。这些属性将被简单地过滤掉，而不是使请求失败。</p><p>当模式允许附加属性时，这不会产生影响。</p><p>由于这使用动态模式，可能会对性能产生影响。</p><h2 id="nativestaticresponse" tabindex="-1">nativeStaticResponse <a class="header-anchor" href="#nativestaticresponse" aria-label="Permalink to &quot;nativeStaticResponse&quot;">​</a></h2><p>@default <code>true</code> @since 1.1.11</p><p>启用 Bun 静态响应。</p><p>Elysia 是否应该使用 Bun 的静态响应。</p><p>这使得 Elysia 能够提高静态内容性能并显著减少内存使用。</p><h3 id="示例-1" tabindex="-1">示例 <a class="header-anchor" href="#示例-1" aria-label="Permalink to &quot;示例&quot;">​</a></h3><p>Elysia 将为静态内容使用 Bun 的静态响应</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Elysia } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;elysia&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Elysia</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/static&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;work&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>上述代码等价于：</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Bun.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">serve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  static: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;static&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;work&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;/static&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/work&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>此配置仅在使用 Bun &gt; 1.1.27 作为服务器时有效</p></div><h2 id="websocket" tabindex="-1">websocket <a class="header-anchor" href="#websocket" aria-label="Permalink to &quot;websocket&quot;">​</a></h2><p>覆盖 WebSocket 配置</p><p>建议保持默认设置，因为 Elysia 会自动生成适合处理 WebSocket 的配置。</p><p>此配置扩展了 <a href="https://bun.sh/docs/api/websockets" target="_blank" rel="noreferrer">Bun WebSocket API</a>。</p><h2 id="serve" tabindex="-1">serve <a class="header-anchor" href="#serve" aria-label="Permalink to &quot;serve&quot;">​</a></h2><p>Bun serve 配置。</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Elysia } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;elysia&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Elysia</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  serve: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    hostname: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;elysiajs.com&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    tls: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      cert: Bun.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">file</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;cert.pem&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      key: Bun.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">file</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;key.pem&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>此配置扩展了 <a href="https://bun.sh/docs/api/http" target="_blank" rel="noreferrer">Bun Serve API</a> 和 <a href="https://bun.sh/docs/api/http#tls" target="_blank" rel="noreferrer">Bun TLS</a>。</p><p>以下内容从 Bun JSDoc 和 Bun 文档中移植：</p><h2 id="port" tabindex="-1">port <a class="header-anchor" href="#port" aria-label="Permalink to &quot;port&quot;">​</a></h2><p>@default <code>3000</code></p><p>监听的端口</p><h2 id="unix" tabindex="-1">unix <a class="header-anchor" href="#unix" aria-label="Permalink to &quot;unix&quot;">​</a></h2><p>如果设置，HTTP 服务器将监听 Unix 套接字而不是端口。</p><p>（不能与主机名 + 端口一起使用）</p><h2 id="hostname" tabindex="-1">hostname <a class="header-anchor" href="#hostname" aria-label="Permalink to &quot;hostname&quot;">​</a></h2><p>@default <code>0.0.0.0</code></p><p>设置服务器监听的主机名</p><h2 id="maxrequestbodysize" tabindex="-1">maxRequestBodySize <a class="header-anchor" href="#maxrequestbodysize" aria-label="Permalink to &quot;maxRequestBodySize&quot;">​</a></h2><p>@default <code>1024 * 1024 * 128</code>（128MB）</p><p>设置请求体的最大大小（以字节为单位）</p><h2 id="reuseport" tabindex="-1">reusePort <a class="header-anchor" href="#reuseport" aria-label="Permalink to &quot;reusePort&quot;">​</a></h2><p>@default <code>true</code></p><p>是否应设置 <code>SO_REUSEPORT</code> 标志</p><p>这允许多个进程绑定到同一端口，这对负载均衡很有用。</p><p>此配置被覆盖并默认由 Elysia 启用。</p><h2 id="id" tabindex="-1">id <a class="header-anchor" href="#id" aria-label="Permalink to &quot;id&quot;">​</a></h2><p>使用 ID 唯一标识服务器实例</p><p>此字符串将用于热重载服务器，而不会中断待处理的请求或 WebSocket。如果未提供，将生成一个值。要禁用热重载，请将此值设置为 <code>null</code>。</p><h2 id="rejectunauthorized" tabindex="-1">rejectUnauthorized <a class="header-anchor" href="#rejectunauthorized" aria-label="Permalink to &quot;rejectUnauthorized&quot;">​</a></h2><p>@default <code>NODE_TLS_REJECT_UNAUTHORIZED</code> 环境变量</p><p>如果设置为 <code>false</code>，将接受任何证书。</p><h2 id="tsl-options" tabindex="-1">TSL-Options <a class="header-anchor" href="#tsl-options" aria-label="Permalink to &quot;TSL-Options&quot;">​</a></h2><p>此配置扩展了 <a href="https://bun.sh/docs/api/http#tls" target="_blank" rel="noreferrer">Bun TLS API</a>。</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Elysia } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;elysia&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Elysia</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  tls: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    cert: Bun.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">file</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;cert.pem&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    key: Bun.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">file</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;key.pem&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h2 id="cert" tabindex="-1">cert <a class="header-anchor" href="#cert" aria-label="Permalink to &quot;cert&quot;">​</a></h2><p>PEM 格式的证书链。每个私钥应提供一个证书链。</p><p>每个证书链应包含为提供的私钥格式化的 PEM 证书，后跟 PEM 格式的中间证书（如果有），按顺序排列，不包括根 CA（根 CA 必须事先为对等方所知，见 ca）。</p><p>在提供多个证书链时，它们不必与其私钥在 key 中的顺序相同。</p><p>如果未提供中间证书，对等方将无法验证证书，握手将失败。</p><h2 id="key" tabindex="-1">key <a class="header-anchor" href="#key" aria-label="Permalink to &quot;key&quot;">​</a></h2><p>PEM 格式的私钥。PEM 允许私钥加密的选项。加密密钥将使用 options.passphrase 解密。</p><p>可以提供使用不同算法的多个密钥，作为未加密密钥字符串或缓冲区的数组，或以对象的形式提供数组。</p><p>对象形式只能出现在数组中。</p><p><strong>object.passphrase</strong> 是可选的。如果提供，加密密钥将使用 <strong>object.passphrase</strong> 解密，如果没有提供，则使用 <strong>options.passphrase</strong>。</p><h2 id="ca" tabindex="-1">ca <a class="header-anchor" href="#ca" aria-label="Permalink to &quot;ca&quot;">​</a></h2><p>可选地覆盖受信任的 CA 证书。默认情况下信任 Mozilla 精心挑选的知名 CA。</p><p>当使用此选项显式指定 CA 时，Mozilla 的 CA 将完全被替换。</p><h2 id="passphrase" tabindex="-1">passphrase <a class="header-anchor" href="#passphrase" aria-label="Permalink to &quot;passphrase&quot;">​</a></h2><p>单个私钥和/或 PFX 的共享密码短语。</p><h2 id="dhparamsfile" tabindex="-1">dhParamsFile <a class="header-anchor" href="#dhparamsfile" aria-label="Permalink to &quot;dhParamsFile&quot;">​</a></h2><p>自定义 Diffie Helman 参数的 .pem 文件路径。</p><h2 id="requestcert" tabindex="-1">requestCert <a class="header-anchor" href="#requestcert" aria-label="Permalink to &quot;requestCert&quot;">​</a></h2><p>@default <code>false</code></p><p>如果设置为 <code>true</code>，服务器将请求客户端证书。</p><h2 id="secureoptions" tabindex="-1">secureOptions <a class="header-anchor" href="#secureoptions" aria-label="Permalink to &quot;secureOptions&quot;">​</a></h2><p>可选地影响 OpenSSL 协议行为，通常不需要。</p><p>如果使用，请谨慎处理！</p><p>值是来自 OpenSSL 选项的 SSL_OP_* 选项的数字位掩码。</p><h2 id="servername" tabindex="-1">serverName <a class="header-anchor" href="#servername" aria-label="Permalink to &quot;serverName&quot;">​</a></h2><p>显式设置服务器名称。</p><h2 id="lowmemorymode" tabindex="-1">lowMemoryMode <a class="header-anchor" href="#lowmemorymode" aria-label="Permalink to &quot;lowMemoryMode&quot;">​</a></h2><p>@default <code>false</code></p><p>将 <code>OPENSSL_RELEASE_BUFFERS</code> 设置为 1。</p><p>这会降低整体性能，但节省一些内存。</p>`,130)]))}const E=a(n,[["render",p]]);export{c as __pageData,E as default};
